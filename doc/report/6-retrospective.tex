\chapter{Retrospective}

\section{Development description in detail}

\subsection{Sprint 0}
\subsubsection{Report}
Product backlog was defined during first meetings. Each item in the backlog was associated to an estimate of his development effort.
\\
The organizational structure of the project was defined too. We discussed tools and development environments to support continuous integration.
\\
Initial analysis and design process were performed in order to define main entities of the system and their interactions.
Therefore, it was decided to internally use an approach base on actors, which however would have been transparent to the final user (developer). This is due to an elevated complexity of the system, and an actor model could simplify few aspects. 
We decided to rely upon ``akka-core library'' and ``akka-http library''. 
\\
In the end, it was decided to carry out client and server modules development in parallel in order to have a working core in the shortest time. This core would be extended incrementally during the project lifetime.




\subsection{Sprint 1}
\subsubsection{Report}
The goal of this first sprint was to define main client and server interfaces and to set up a minimal working system that allows:
\begin{itemize}
	\item Game server execution 
	\item Room types definition
	\item Handling of client requests to create rooms.
\end{itemize}
These goals were completed successfully. 
\\
An issue regarding the extension of an already existing server was found due to internal ``Akka'' policies. 
This ended up in a revision on some decisions that were made about server creation. The result is that it is possible for the user to specify external routes which will be handled by the game server (if they don't conflict with the already existing ones internally used  by the game server itself). 
However, it is not possible to attach the game server to an existing one.
\\
However, even if in a different way than the one prospected at the beginning, the requirement can be considered fulfilled.   




\subsubsection{Retrospective}
The task effort concerning the creation of a game server based on an existing one was underestimated, and it created few troubles during the whole week.
\\
The team was able to complete all tasks and effectively use continuous integration and project management tools decided during first meetings.
\\
A problem that arose was that some ``scalastyle'' rules were too strict, and tests were failing for no good reasons. We decided then to disable such rules for further development.


\subsection{Sprint 2}
\subsubsection{Report}

During this week some of the main features of the library about clients and rooms have been developed.
\\
Tasks regarding web socket support was underestimated, and it was not fully completed during this sprint.
The interaction between clients and rooms required the definition of an ad hoc protocol to manage messages internally used by the library. This introduced some dependencies between client and server tasks causing little slowdown in the development process.
\\
Given the amount of work spent on such task, some others were left behind and not fully achieved too (e.g. the creation of rooms with custom options).
\\
Uncompleted tasks will be completed in the next sprint.



\subsubsection{Retrospective}
Even if the amount of work spent on this sprint was certainly greater than the previous one, the fact that the team was not able to complete all tasks requires some further considerations.
\\
It's important to better define the work in advance. For example, we should consider splitting tricky tasks in multiple sub-tasks when needed, so that hidden dependencies are found and parallel work can be easily planned and carried out.
\\
The creation of rooms with custom options was not completed due to the lack of communication about who was the volunteer of such task, and, in the end, we run out of time.
\\
Furthermore, team communication should be increased during the week.
This could help by solving in advance problems that arise during development.

\subsection{Sprint 3}
\subsubsection{Report}

In this week, pending tasks from previous sprint were completed.

While implementing automatic state update, we decided to use binary serialization instead of Json one. The latter required the user to define his own parsers while binary serialization allowed a more generic and simple approach.

Since the work done in the previous weeks contained the core features of the library, we were able to implement a first simple example of online multiplayer game: ``Rock-Paper-Scissor''. 
The main purpose was to verify effective usability of features produced so far, both for client and server sides.
The final code is also a good explanation about how to use the library and its basic functionalities.


\subsubsection{Retrospective}
Tasks were all completed this time; anyway, the lack of documentation and diagrams relative to some common concepts led to few integration issues on code produced by different team members. Sometimes, ad hoc refactoring was needed to keep high software quality throughout the development.
\\
Increased care must be granted to future documentation process.
\\
During the week, few unpredictable tests were added to the test suite.
As they were found, they were immediately fixed within the end of the sprint.




\subsection{Sprint 4}
\subsubsection{Report}
In this sprint, other main features were added, such as game loop on server rooms and client re-connection.
\\
Moreover, it was implemented ``MoneyGrabber'', a second game that takes advantage of more advanced features of the library, such as the automatic state update and the management of rooms with multiple players.
Therefore, it was possible to verify the actual versatility of the library showing a further and more complex example of use in a real context.
\\
All tasks were completed ahead of time.
\\
In the end, a first closing process, that is the systematic writing of the report by using gathered informal notes and documentation, has been started.

\subsubsection{Retrospective}

During this sprint the team worked very well, probably helped by the solid core already implemented that was easily extensible.
\\
Probably, we should have considered the addition of some more tasks to the backlog in the sprint planning.
\\
By the way, the remaining time of the sprint was used by the whole team to improve the existing code quality and to produce some more detailed documentation.
\\
The only drawback was the underrate of game loop consequences on the whole system. Indeed, game loop, and also the already implemented state synchronization feature, might imperil system safety due to possible concurrency problems. A meeting with the team was required to improve some design aspects so it was possible to solve any issue while keeping it transparent to final user; it took a non negligible amount of time.

\subsection{Sprint 5}
\subsubsection{Report}
Matchmaking functionality was implemented during this sprint.
A revise on client-server communication protocol was required to integrate matchmaking service in the system.

\subsubsection{Retrospective}

Given the importance of the new matchmaking feature, we decided to develop a further example showing its use in an example application. This will be done in the next sprint.
\\
The revision of communication protocol was due to some non trivial matchmaking aspects that were non fully considered in advance, such as data flows and separation between normal and matchmaking rooms. 
\\
In the end, we noticed that client-side room closure feature was not explicitly defined yet. 
After a brief discussion, we decided that a developer could implement such functionality by using existing features (e.g auto-close feature on server-side) in a safer and robust manner. Hence, we considered that requirement unnecessary, and so the task as fulfilled.
\\
Thus, all requirements are satisfied, and library is almost ready for deployment.


\subsection{Sprint 6}

\subsubsection{Report}
During this sprint, some refactoring was done on both code and packages structure. Particular attention was given to visibility rules aspects.
The three usage examples have been refined and, for each one, an executable jars has been created. Each example comes with two jars, one for the client side application and one for the server side initialization.
\\
In the end, another closing process was started, namely the system deployment.


\subsubsection{Retrospective}
The complexity of the publishing process on Maven was underestimated.
This is an important requirement that existed from the beginning, and we probably should have discussed it at the project start to refine some details that could affect the whole project development.
\\
Also, we noticed that the correct package structure could have been settled in advance.
Indeed, some avoidable extra-work was done to fix both source and test code structures.

\section{Final comments}
\subsection{Stefano Salvatori}
I am satisfied with the overall result of the project.
All the requirements have been fulfilled and the developed library is actually usable in real case scenarios, as we showed with the examples games we proposed.

I think that this project gave me the opportunity to develop good programming skills in Scala, a language that i had already used in the past but without ever going into some detailed aspects.

I used for the first time an agile development methodology such as SCRUM; this was perhaps one of the most innovative aspects for me. Following the SCRUM principles forced me to change some of my development habits and allowed me to improve my teamwork skills.
The use of this approach certainly contributed to the success of the project although, being the first experience with this methodology, some aspects could have been improved.

Another topic that I am pleased to have explored in greater detail is continuous integration: i've learned the importance of regression tests and how they can be extremely helpful in later stages of a project when you don't want code changes to break the existing infrastructure.

I think this i will keep this project an example for future ones where I will try to replicate what worked well and
obviously improve all the aspects that i think I could have done better.




\subsection{Riccardo Salvatori}

I think this project helped me improve my skills in Scala and gave me the opportunity to really appreciate all its qualities. Particularly, thanks to the usage of futures and actor paradigm I was able to experience the management of asynchronous programming with this language. 
The development of this project required the setup of a client-server network environment. 
This was achieved by the use of akka-http library. I really appreciated how the actor framework combined with this library made it easy to develop network interactions and communication, allowing us to have a working core really early in the project lifetime.

The project was realized according to an agile development methodology: SCRUM. 
I am satisfied with how this approach favored team cooperation, particularly allowing continuous feedback in all development stages. 
However, I have also noticed some negative aspects that could have been avoided. For example the main focus on the agile methodology led us to neglect the important aspect of a well defined design process in early sprints.

Another major topic of the developing process was the 'continuous integration'. 
 I was able to use and learn new tools (e.g Travis) and improve my knowledge on the ones that I was already used to.  I also saw how useful regression tests are.
 
Even if I didn't adhere to a strictly test driven development, I paid particular attention to test management too. 
I was able to truly appreciate the importance of a well-organized test suite. Indeed tests helped me a lot in the refactoring process by ensuring that code written by me or other team members was not compromised.

 I am very satisfied with both the final result and the experience gained in the various development processes. In the end, I think that all the skills learnt can certainly be put into practice in future projects too.


\subsection{Gabriele Guerrini}
In my opinion, talking about Scala, the project is essential to really understand its features. Actually, I also think the language was essential to speed up the project development, and its functionalities useful to fix some issues the team slipped into because of lacks in the starting system design.
\\
The project was not trivial, and its early deadline complicated it furthermore. Nonetheless, we were able to complete it in time. I think this was possible thanks to the usage of Scala functionalities that, combined with the actor model (that was essential too), simplified it so much.

\bigskip
The project should be realized using an agile approach. It was a good opportunity to practice with those agile methodologies that differs from the usual ones we have been taught to use.
Moreover, I could apply in ``real-time'' few aspects that I'm currently learning in other courses I'm attending this semester (Project Management).
Thus, I'm very satisfied about how the project was developed and managed.
\\
The only drawback I see is that, in this case, since both what to do and how to do it were almost clear, the agile approach was a bit an overkill and, on the contrary, it led me to sometimes neglect a bit the design phase, where I usually spend more time. Indeed, differently from other projects, I found myself in awkward situations where I needed to carry out refactoring on the code more than once just because of lacks of organization. This must be a remark for the future: agile does not mean less design, individual and team both.

\bigskip
About testing, I prevailed myself about the importance of tests in a real project. Indeed, regression tests have been a fundamental capability that often saved our work.

\bigskip
In the end, regarding some external aspects, by putting them in practice, I became more confident with building and CI tools. Moreover, I learnt how open source libraries are handled, and how to publish something on Maven, a skill that may be useful in future.










